<!doctype html>
<script src="https://cdn.jsdelivr.net/npm/idb@3.0.2/build/idb.min.js"></script>
<!-- <input type="file" id="fileInput"> -->
<input type="file" id="audioFileInput">
<button id="saveButton">Сохранить</button>
<hr>
  <h2>Проигрывание сохраненного аудиофайла</h2>
  <audio controls id="audioPlayer"></audio>
  <button id="playButton">Проиграть</button>

  
<script>
  const audioFileInput = document.getElementById('audioFileInput');
  const saveButton = document.getElementById('saveButton');
  const audioPlayer = document.getElementById('audioPlayer');

  saveButton.addEventListener('click', () => {
    const audioBlob = audioFileInput.files[0];

    if (audioBlob) {
      sessionStorage.setItem('audio', audioBlob);
      alert('Аудиофайл сохранен в session storage');
    } else {
      alert('Выберите аудиофайл для сохранения');
    }
  });

  playButton.addEventListener('click', () => {
    const audioBlob = sessionStorage.getItem('audio');

    if (audioBlob) {
      const audioUrl = URL.createObjectURL(audioBlob);
      audioPlayer.src = audioUrl;
      audioPlayer.play();
    } else {
      alert('Нет сохраненного аудиофайла');
    }
  });
</script>
