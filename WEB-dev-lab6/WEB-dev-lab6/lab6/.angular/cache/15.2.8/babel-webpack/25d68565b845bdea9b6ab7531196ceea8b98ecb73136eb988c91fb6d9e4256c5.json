{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../app.service\";\nimport * as i2 from \"../car-service.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/common\";\nfunction CarsListComponent_tr_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\", 2)(8, \"a\", 4);\n    i0.ɵɵtext(9, \"\\u041F\\u043E\\u043C\\u044B\\u0442\\u044C\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"a\", 5);\n    i0.ɵɵtext(11, \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"a\", 6);\n    i0.ɵɵlistener(\"click\", function CarsListComponent_tr_12_Template_a_click_12_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const car_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.remove(car_r1.id));\n    });\n    i0.ɵɵtext(13, \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const car_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(car_r1.number);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(car_r1.brand);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(car_r1.status);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"hidden\", !ctx_r0.app.authAdmin);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/newwash/\", car_r1.id, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/editcar/\", car_r1.id, \"\");\n  }\n}\nexport class CarsListComponent {\n  constructor(app, carServiceServise, router) {\n    this.app = app;\n    this.carServiceServise = carServiceServise;\n    this.router = router;\n  }\n  ngOnInit() {\n    this.carServiceServise.findAll().subscribe(data => {\n      this.cars = data;\n    });\n  }\n  remove(id) {\n    this.carServiceServise.deleteCar(id).subscribe(() => {\n      this.router.navigate(['/redirect_car']);\n      this.ngOnInit();\n    });\n  }\n}\nCarsListComponent.ɵfac = function CarsListComponent_Factory(t) {\n  return new (t || CarsListComponent)(i0.ɵɵdirectiveInject(i1.AppService), i0.ɵɵdirectiveInject(i2.CarServiceService), i0.ɵɵdirectiveInject(i3.Router));\n};\nCarsListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CarsListComponent,\n  selectors: [[\"app-cars-list\"]],\n  decls: 13,\n  vars: 2,\n  consts: [[1, \"table\", \"table-striped\", \"table-bordered\"], [1, \"table-dark\"], [3, \"hidden\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-success\", 3, \"routerLink\"], [1, \"btn\", \"btn-primary\", 3, \"routerLink\"], [1, \"btn\", \"btn-danger\", 3, \"click\"]],\n  template: function CarsListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"table\", 0)(1, \"thead\", 1)(2, \"tr\")(3, \"th\");\n      i0.ɵɵtext(4, \" \\u0413\\u043E\\u0441.\\u043D\\u043E\\u043C\\u0435\\u0440\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"th\");\n      i0.ɵɵtext(6, \" \\u041C\\u0430\\u0440\\u043A\\u0430\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"th\");\n      i0.ɵɵtext(8, \" \\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"th\", 2);\n      i0.ɵɵtext(10, \" \\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(11, \"tbody\");\n      i0.ɵɵtemplate(12, CarsListComponent_tr_12_Template, 14, 6, \"tr\", 3);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"hidden\", !ctx.app.authAdmin);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngForOf\", ctx.cars);\n    }\n  },\n  dependencies: [i4.NgForOf, i3.RouterLink],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;;IAWEA,0BAA8B;IACrBA,YAAc;IAAAA,iBAAK;IACxBA,0BAAK;IAAAA,YAAa;IAAAA,iBAAK;IACvBA,0BAAK;IAAAA,YAAc;IAAAA,iBAAK;IACxBA,6BAAmC;IAEJA,oDAAM;IAAAA,iBAAI;IACrCA,6BAC2B;IAAAA,iEAAQ;IAAAA,iBAAI;IACvCA,6BAC0B;IADvBA;MAAA;MAAA;MAAA;MAAA,OAASA,uCAAc;IAAA,EAAC;IACDA,4DAAQ;IAAAA,iBAAI;;;;;IATrCA,eAAc;IAAdA,mCAAc;IACdA,eAAa;IAAbA,kCAAa;IACbA,eAAc;IAAdA,mCAAc;IACfA,eAA8B;IAA9BA,8CAA8B;IAC3BA,eAAgC;IAAhCA,mEAAgC;IAE/BA,eAAgC;IAAhCA,mEAAgC;;;ACN9C,OAAM,MAAOC,iBAAiB;EAE7BC,YAAmBC,GAAe,EAAWC,iBAAqC,EAASC,MAAc;IAAtF,QAAG,GAAHF,GAAG;IAAuB,sBAAiB,GAAjBC,iBAAiB;IAA6B,WAAM,GAANC,MAAM;EACjG;EAEAC,QAAQ;IACP,IAAI,CAACF,iBAAiB,CAACG,OAAO,EAAE,CAACC,SAAS,CAACC,IAAI,IAAG;MAChD,IAAI,CAACC,IAAI,GAAGD,IAAI;IAClB,CAAC,CAAC;EACJ;EACAE,MAAM,CAACC,EAAW;IAChB,IAAI,CAACR,iBAAiB,CAACS,SAAS,CAACD,EAAE,CAAC,CAACJ,SAAS,CAAC,MAAK;MAClD,IAAI,CAACH,MAAM,CAACS,QAAQ,CAAC,CAAC,eAAe,CAAC,CAAC;MACvC,IAAI,CAACR,QAAQ,EAAE;IACjB,CAAC,CACE;EAEL;;AAjBaL,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAAc;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDX9BnB,gCAAkD;MAGvCA,kEAAS;MAAAA,iBAAK;MACnBA,0BAAI;MAACA,+CAAK;MAAAA,iBAAK;MACfA,0BAAI;MAACA,qDAAM;MAAAA,iBAAK;MAChBA,6BAAmC;MAACA,kEAAQ;MAAAA,iBAAK;MAGrDA,8BAAO;MACPA,mEAYK;MACLA,iBAAQ;;;MAjBAA,eAA8B;MAA9BA,2CAA8B;MAIjBA,eAAO;MAAPA,kCAAO","names":["i0","CarsListComponent","constructor","app","carServiceServise","router","ngOnInit","findAll","subscribe","data","cars","remove","id","deleteCar","navigate","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["C:\\WEB-dev\\lab6\\src\\app\\cars-list\\cars-list.component.html","C:\\WEB-dev\\lab6\\src\\app\\cars-list\\cars-list.component.ts"],"sourcesContent":["\n<table class=\"table table-striped table-bordered\">\n  <thead class=\"table-dark\">\n  <tr>\n      <th> Гос.номер</th>\n      <th> Марка</th>\n      <th> Статус</th>\n      <th [hidden]=\"!this.app.authAdmin\"> Действия</th>\n  </tr>\n  </thead>\n  <tbody>\n  <tr *ngFor =\"let car of cars\">\n      <td >{{car.number}}</td>\n      <td >{{car.brand}}</td>\n      <td >{{car.status}}</td>\n      <td [hidden]=\"!this.app.authAdmin\">\n          <a routerLink=\"/newwash/{{car.id}}\"\n             class=\"btn btn-success\">Помыть</a>\n          <a  routerLink=\"/editcar/{{car.id}}\"\n             class=\"btn btn-primary\">Изменить</a>\n          <a (click)=\"remove(car.id)\"\n             class=\"btn btn-danger\">Удалить </a>\n      </td>\n  </tr>\n  </tbody>\n</table>\n","import { Component, OnInit } from '@angular/core';\nimport { CarServiceService } from '../car-service.service';\nimport { Car } from '../class/car';\nimport { Router } from '@angular/router';\nimport { delay } from 'rxjs';\nimport { AppService } from '../app.service';\n\n@Component({\n  selector: 'app-cars-list',\n  templateUrl: './cars-list.component.html',\n  styleUrls: ['./cars-list.component.css']\n})\nexport class CarsListComponent implements OnInit{\n cars? : Car[];\n constructor(public app: AppService,  private carServiceServise : CarServiceService,private router: Router){\n }\n\n ngOnInit() :void {\n  this.carServiceServise.findAll().subscribe(data => {\n    this.cars = data;\n  });\n}\nremove(id : number){\n  this.carServiceServise.deleteCar(id).subscribe(() =>{\n    this.router.navigate(['/redirect_car']);\n    this.ngOnInit();\n  }\n    );\n\n}\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}