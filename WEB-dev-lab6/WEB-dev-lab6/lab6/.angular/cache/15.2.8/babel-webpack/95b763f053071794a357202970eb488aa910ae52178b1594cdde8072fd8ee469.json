{"ast":null,"code":"import { Priem } from '../class/priem';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../priem.service\";\nimport * as i2 from \"../patient.service\";\nimport * as i3 from \"../doctor-service.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nfunction PriemDoctorComponent_option_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const box_r1 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", box_r1.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(box_r1.lastname);\n  }\n}\nexport class PriemDoctorComponent {\n  constructor(washServ, boxServ, carServ, router, route) {\n    this.washServ = washServ;\n    this.boxServ = boxServ;\n    this.carServ = carServ;\n    this.router = router;\n    this.route = route;\n    this.priem = new Priem();\n  }\n  ngOnInit() {\n    this.boxServ.findAll().subscribe(data => {\n      this.patients = data;\n    });\n    this.carServ.findById(this.route.snapshot.params['id']).subscribe(responce => {\n      this.doctor = responce;\n    });\n  }\n  onSubmit() {\n    this.boxServ.findById(this.id).subscribe(responce => {\n      this.patient = responce;\n      this.priem.car = this.doctor;\n      this.priem.box = this.patient;\n      //this.wash.active = true;\n      this.washServ.save(this.priem);\n    });\n    this.gotoUserList();\n  }\n  gotoUserList() {\n    this.router.navigate(['/']);\n  }\n}\nPriemDoctorComponent.ɵfac = function PriemDoctorComponent_Factory(t) {\n  return new (t || PriemDoctorComponent)(i0.ɵɵdirectiveInject(i1.PriemService), i0.ɵɵdirectiveInject(i2.PatientService), i0.ɵɵdirectiveInject(i3.DoctorServiceService), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i4.ActivatedRoute));\n};\nPriemDoctorComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: PriemDoctorComponent,\n  selectors: [[\"app-priem-doctor\"]],\n  decls: 19,\n  vars: 3,\n  consts: [[1, \"container\"], [1, \"row\"], [1, \"col-lg-6\", \"col-md-6\", \"col-sm-6\", \"container\", \"justify-content-center\", \"card\"], [1, \"text-center\"], [1, \"card-body\"], [\"method\", \"POST\", 3, \"ngSubmit\"], [1, \"form-group\"], [\"type\", \"date\", \"name\", \"date\", \"placeholder\", \"2000-12-30\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"place\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"selected\", \"1\", 3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"box-footer\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [\"selected\", \"1\", 3, \"value\"]],\n  template: function PriemDoctorComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h1\", 3);\n      i0.ɵɵtext(4, \" \\u041F\\u0440\\u0438\\u043D\\u044F\\u0442\\u044C \\u043F\\u0430\\u0446\\u0438\\u0435\\u043D\\u0442\\u0430 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 4)(6, \"form\", 5);\n      i0.ɵɵlistener(\"ngSubmit\", function PriemDoctorComponent_Template_form_ngSubmit_6_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(7, \"div\", 6)(8, \"label\");\n      i0.ɵɵtext(9, \" \\u0414\\u0430\\u0442\\u0430 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function PriemDoctorComponent_Template_input_ngModelChange_10_listener($event) {\n        return ctx.wash.date = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"div\", 6)(12, \"label\");\n      i0.ɵɵtext(13, \" \\u0411\\u043E\\u043A\\u0441 \\u0434\\u043B\\u044F \\u043C\\u043E\\u0439\\u043A\\u0438 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"select\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function PriemDoctorComponent_Template_select_ngModelChange_14_listener($event) {\n        return ctx.id = $event;\n      });\n      i0.ɵɵtemplate(15, PriemDoctorComponent_option_15_Template, 2, 2, \"option\", 9);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"div\", 10)(17, \"button\", 11);\n      i0.ɵɵtext(18, \" \\u041F\\u0440\\u0438\\u043D\\u044F\\u0442\\u044C \");\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngModel\", ctx.wash.date);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.id);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.boxes);\n    }\n  },\n  dependencies: [i5.NgForOf, i6.ɵNgNoValidate, i6.NgSelectOption, i6.ɵNgSelectMultipleOption, i6.DefaultValueAccessor, i6.SelectControlValueAccessor, i6.NgControlStatus, i6.NgControlStatusGroup, i6.NgModel, i6.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAKA,SAASA,KAAK,QAAQ,gBAAgB;;;;;;;;;;ICgBjBC,kCAAmE;IAAAA,YAAgB;IAAAA,iBAAS;;;;IAA1DA,4CAAkB;IAAeA,eAAgB;IAAhBA,qCAAgB;;;ADPxG,OAAM,MAAOC,oBAAoB;EAM/BC,YAAoBC,QAAuB,EAASC,OAAwB,EAASC,OAA8B,EAASC,MAAc,EAASC,KAAqB;IAApJ,aAAQ,GAARJ,QAAQ;IAAwB,YAAO,GAAPC,OAAO;IAA0B,YAAO,GAAPC,OAAO;IAAgC,WAAM,GAANC,MAAM;IAAiB,UAAK,GAALC,KAAK;IAJxJ,UAAK,GAAW,IAAIR,KAAK,EAAE;EAM3B;EACAS,QAAQ;IACN,IAAI,CAACJ,OAAO,CAACK,OAAO,EAAE,CAACC,SAAS,CAAEC,IAAI,IAAI;MACxC,IAAI,CAACC,QAAQ,GAAGD,IAAI;IACvB,CAAC,CAAC;IACF,IAAI,CAACN,OAAO,CAACQ,QAAQ,CAAC,IAAI,CAACN,KAAK,CAACO,QAAQ,CAACC,MAAM,CAAC,IAAI,CAAC,CAAC,CAACL,SAAS,CAC/DM,QAAQ,IAAI;MACX,IAAI,CAACC,MAAM,GAAGD,QAAQ;IACxB,CAAC,CACD;EACF;EACAE,QAAQ;IAEL,IAAI,CAACd,OAAO,CAACS,QAAQ,CAAC,IAAI,CAACM,EAAE,CAAC,CAACT,SAAS,CACtCM,QAAQ,IAAI;MAEX,IAAI,CAACI,OAAO,GAAGJ,QAAQ;MACvB,IAAI,CAACK,KAAK,CAACC,GAAG,GAAG,IAAI,CAACL,MAAM;MAC3B,IAAI,CAACI,KAAK,CAACE,GAAG,GAAG,IAAI,CAACH,OAAO;MAC7B;MACD,IAAI,CAACjB,QAAQ,CAACqB,IAAI,CAAC,IAAI,CAACH,KAAK,CAAC;IAChC,CAAC,CACD;IAIF,IAAI,CAACI,YAAY,EAAE;EACrB;EAEAA,YAAY;IACV,IAAI,CAACnB,MAAM,CAACoB,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;EAC7B;;AAvCWzB,oBAAoB;mBAApBA,oBAAoB;AAAA;AAApBA,oBAAoB;QAApBA,oBAAoB;EAAA0B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCdjC/B,8BAAyB;MAGQA,6GAAiB;MAAAA,iBAAK;MACjDA,8BAAyB;MACjBA;QAAA,OAAYgC,cAAU;MAAA,EAAC;MAC3BhC,8BAAyB;MACfA,0CAAK;MAAAA,iBAAQ;MACrBA,iCAME;MAHMA;QAAA;MAAA,EAAuB;MAH/BA,iBAME;MAIFA,+BAAyB;MACjBA,6FAAe;MAAAA,iBAAQ;MAC3BA,kCAA4D;MAAvCA;QAAA;MAAA,EAAgB;MAChCA,6EAA4F;MACjGA,iBAAS;MAGfA,gCAA0B;MAEtBA,6DACF;MAAAA,iBAAS;;;MAjBDA,gBAAuB;MAAvBA,uCAAuB;MASNA,eAAgB;MAAhBA,gCAAgB;MACRA,eAAQ;MAARA,mCAAQ","names":["Priem","i0","PriemDoctorComponent","constructor","washServ","boxServ","carServ","router","route","ngOnInit","findAll","subscribe","data","patients","findById","snapshot","params","responce","doctor","onSubmit","id","patient","priem","car","box","save","gotoUserList","navigate","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["I:\\Универ\\2курс\\2семестр\\Web-программирование\\other\\WEB-dev-lab6\\WEB-dev-lab6\\lab6\\src\\app\\priem-doctor\\priem-doctor.component.ts","I:\\Универ\\2курс\\2семестр\\Web-программирование\\other\\WEB-dev-lab6\\WEB-dev-lab6\\lab6\\src\\app\\priem-doctor\\priem-doctor.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { PriemService } from '../priem.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { PatientService } from '../patient.service';\nimport { Patient } from '../class/patient';\nimport { Priem } from '../class/priem';\nimport { DoctorServiceService } from '../doctor-service.service';\nimport { Doctor } from '../class/doctor';\n\n@Component({\n  selector: 'app-priem-doctor',\n  templateUrl: './priem-doctor.component.html',\n  styleUrls: ['./priem-doctor.component.css']\n})\nexport class PriemDoctorComponent {\n  patients! : Patient[];\n  priem : Priem = new Priem();\n  doctor! : Doctor;\n  patient! : Patient;\n  id! : number;\n  constructor(private washServ : PriemService,private boxServ : PatientService,private carServ : DoctorServiceService,private router: Router,private route :ActivatedRoute){\n\n  }\n  ngOnInit() : void{\n    this.boxServ.findAll().subscribe((data) => {\n      this.patients = data;\n   });\n   this.carServ.findById(this.route.snapshot.params['id']).subscribe(\n    (responce) => {\n      this.doctor = responce;\n    }\n   );\n  }\n  onSubmit() {\n\n     this.boxServ.findById(this.id).subscribe(\n      (responce) => {\n\n        this.patient = responce;\n        this.priem.car = this.doctor;\n         this.priem.box = this.patient;\n         //this.wash.active = true;\n        this.washServ.save(this.priem);\n      }\n     )\n\n\n\n    this.gotoUserList();\n  }\n\n  gotoUserList() {\n    this.router.navigate(['/']);\n  }\n}\n","<div class = \"container\">\n  <div class = \"row\">\n    <div class =\"col-lg-6 col-md-6 col-sm-6 container justify-content-center card\">\n      <h1 class = \"text-center\"> Принять пациента </h1>\n      <div class = \"card-body\">\n        <form (ngSubmit)=\"onSubmit()\" method=\"POST\">  \n          <div class =\"form-group\">\n            <label> Дата </label>\n            <input\n                    type = \"date\"\n                    name = \"date\"\n                    [(ngModel)]=\"wash.date\"\n                    class = \"form-control\"\n                    placeholder=\"2000-12-30\"\n            />\n          </div>\n\n\n            <div class =\"form-group\">\n            <label> Бокс для мойки </label>\n                <select name=\"place\" [(ngModel)]=\"id\" class=\"form-control\" >\n                     <option *ngFor=\"let box of boxes\" value=\"{{box.id}}\"  selected=\"1\">{{box.lastname}}</option>\n                </select>\n            </div>\n\n          <div class = \"box-footer\">\n            <button type=\"submit\" class = \"btn btn-primary\">\n              Принять\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}