{"ast":null,"code":"import { Wash } from '../class/wash';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../wash.service\";\nimport * as i2 from \"../box.service\";\nimport * as i3 from \"../car-service.service\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/forms\";\nfunction WashCarComponent_option_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 12);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const box_r1 = ctx.$implicit;\n    i0.ɵɵpropertyInterpolate(\"value\", box_r1.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(box_r1.name);\n  }\n}\nexport class WashCarComponent {\n  constructor(washServ, boxServ, carServ, router, route) {\n    this.washServ = washServ;\n    this.boxServ = boxServ;\n    this.carServ = carServ;\n    this.router = router;\n    this.route = route;\n    this.wash = new Wash();\n  }\n  ngOnInit() {\n    this.boxServ.findAll().subscribe(data => {\n      this.boxes = data;\n    });\n    this.carServ.findById(this.route.snapshot.params['id']).subscribe(responce => {\n      this.car = responce;\n    });\n  }\n  onSubmit() {\n    this.boxServ.findById(this.id).subscribe(responce => {\n      this.box = responce;\n      this.wash.car = this.car;\n      this.wash.place = this.box;\n      this.wash.active = true;\n      this.washServ.save(this.wash);\n    });\n    this.gotoUserList();\n  }\n  gotoUserList() {\n    this.router.navigate(['/']);\n  }\n}\nWashCarComponent.ɵfac = function WashCarComponent_Factory(t) {\n  return new (t || WashCarComponent)(i0.ɵɵdirectiveInject(i1.WashService), i0.ɵɵdirectiveInject(i2.BoxService), i0.ɵɵdirectiveInject(i3.CarServiceService), i0.ɵɵdirectiveInject(i4.Router), i0.ɵɵdirectiveInject(i4.ActivatedRoute));\n};\nWashCarComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: WashCarComponent,\n  selectors: [[\"app-wash-car\"]],\n  decls: 19,\n  vars: 3,\n  consts: [[1, \"container\"], [1, \"row\"], [1, \"col-lg-6\", \"col-md-6\", \"col-sm-6\", \"container\", \"justify-content-center\", \"card\"], [1, \"text-center\"], [1, \"card-body\"], [\"method\", \"POST\", 3, \"ngSubmit\"], [1, \"form-group\"], [\"type\", \"date\", \"name\", \"date\", \"placeholder\", \"2000-12-30\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"place\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"selected\", \"1\", 3, \"value\", 4, \"ngFor\", \"ngForOf\"], [1, \"box-footer\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], [\"selected\", \"1\", 3, \"value\"]],\n  template: function WashCarComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h1\", 3);\n      i0.ɵɵtext(4, \" \\u041F\\u043E\\u043C\\u044B\\u0442\\u044C \\u043C\\u0430\\u0448\\u0438\\u043D\\u0443 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"div\", 4)(6, \"form\", 5);\n      i0.ɵɵlistener(\"ngSubmit\", function WashCarComponent_Template_form_ngSubmit_6_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(7, \"div\", 6)(8, \"label\");\n      i0.ɵɵtext(9, \" \\u0414\\u0430\\u0442\\u0430 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"input\", 7);\n      i0.ɵɵlistener(\"ngModelChange\", function WashCarComponent_Template_input_ngModelChange_10_listener($event) {\n        return ctx.wash.date = $event;\n      });\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(11, \"div\", 6)(12, \"label\");\n      i0.ɵɵtext(13, \" \\u0411\\u043E\\u043A\\u0441 \\u0434\\u043B\\u044F \\u043C\\u043E\\u0439\\u043A\\u0438 \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"select\", 8);\n      i0.ɵɵlistener(\"ngModelChange\", function WashCarComponent_Template_select_ngModelChange_14_listener($event) {\n        return ctx.id = $event;\n      });\n      i0.ɵɵtemplate(15, WashCarComponent_option_15_Template, 2, 2, \"option\", 9);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(16, \"div\", 10)(17, \"button\", 11);\n      i0.ɵɵtext(18, \" \\u041F\\u043E\\u043C\\u044B\\u0442\\u044C \");\n      i0.ɵɵelementEnd()()()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(10);\n      i0.ɵɵproperty(\"ngModel\", ctx.wash.date);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.id);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.boxes);\n    }\n  },\n  dependencies: [i5.NgForOf, i6.ɵNgNoValidate, i6.NgSelectOption, i6.ɵNgSelectMultipleOption, i6.DefaultValueAccessor, i6.SelectControlValueAccessor, i6.NgControlStatus, i6.NgControlStatusGroup, i6.NgModel, i6.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAKA,SAASA,IAAI,QAAQ,eAAe;;;;;;;;;;IC2BfC,kCAAmE;IAAAA,YAAY;IAAAA,iBAAS;;;;IAAtDA,4CAAkB;IAAeA,eAAY;IAAZA,iCAAY;;;ADlBpG,OAAM,MAAOC,gBAAgB;EAM3BC,YAAoBC,QAAsB,EAASC,OAAoB,EAASC,OAA2B,EAASC,MAAc,EAASC,KAAqB;IAA5I,aAAQ,GAARJ,QAAQ;IAAuB,YAAO,GAAPC,OAAO;IAAsB,YAAO,GAAPC,OAAO;IAA6B,WAAM,GAANC,MAAM;IAAiB,UAAK,GAALC,KAAK;IAJhJ,SAAI,GAAU,IAAIR,IAAI,EAAE;EAMxB;EACAS,QAAQ;IACN,IAAI,CAACJ,OAAO,CAACK,OAAO,EAAE,CAACC,SAAS,CAAEC,IAAI,IAAI;MACxC,IAAI,CAACC,KAAK,GAAGD,IAAI;IACpB,CAAC,CAAC;IACF,IAAI,CAACN,OAAO,CAACQ,QAAQ,CAAC,IAAI,CAACN,KAAK,CAACO,QAAQ,CAACC,MAAM,CAAC,IAAI,CAAC,CAAC,CAACL,SAAS,CAC/DM,QAAQ,IAAI;MACX,IAAI,CAACC,GAAG,GAAGD,QAAQ;IACrB,CAAC,CACD;EACF;EACAE,QAAQ;IAEL,IAAI,CAACd,OAAO,CAACS,QAAQ,CAAC,IAAI,CAACM,EAAE,CAAC,CAACT,SAAS,CACtCM,QAAQ,IAAI;MAEX,IAAI,CAACI,GAAG,GAAGJ,QAAQ;MACnB,IAAI,CAACK,IAAI,CAACJ,GAAG,GAAG,IAAI,CAACA,GAAG;MACvB,IAAI,CAACI,IAAI,CAACC,KAAK,GAAG,IAAI,CAACF,GAAG;MAC1B,IAAI,CAACC,IAAI,CAACE,MAAM,GAAG,IAAI;MACxB,IAAI,CAACpB,QAAQ,CAACqB,IAAI,CAAC,IAAI,CAACH,IAAI,CAAC;IAC/B,CAAC,CACD;IAIF,IAAI,CAACI,YAAY,EAAE;EACrB;EAEAA,YAAY;IACV,IAAI,CAACnB,MAAM,CAACoB,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC;EAC7B;;AAvCWzB,gBAAgB;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB;QAAhBA,gBAAgB;EAAA0B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCd7B/B,8BAAyB;MAGQA,2FAAc;MAAAA,iBAAK;MAC9CA,8BAAyB;MACjBA;QAAA,OAAYgC,cAAU;MAAA,EAAC;MAY3BhC,8BAAyB;MACfA,0CAAK;MAAAA,iBAAQ;MACrBA,iCAME;MAHMA;QAAA;MAAA,EAAuB;MAH/BA,iBAME;MAIFA,+BAAyB;MACjBA,6FAAe;MAAAA,iBAAQ;MAC3BA,kCAA4D;MAAvCA;QAAA;MAAA,EAAgB;MAChCA,yEAAwF;MAC7FA,iBAAS;MAGfA,gCAA0B;MAEtBA,uDACF;MAAAA,iBAAS;;;MAjBDA,gBAAuB;MAAvBA,uCAAuB;MASNA,eAAgB;MAAhBA,gCAAgB;MACRA,eAAQ;MAARA,mCAAQ","names":["Wash","i0","WashCarComponent","constructor","washServ","boxServ","carServ","router","route","ngOnInit","findAll","subscribe","data","boxes","findById","snapshot","params","responce","car","onSubmit","id","box","wash","place","active","save","gotoUserList","navigate","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\WEB-dev\\lab6\\src\\app\\wash-car\\wash-car.component.ts","C:\\WEB-dev\\lab6\\src\\app\\wash-car\\wash-car.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { WashService } from '../wash.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { BoxService } from '../box.service';\nimport { Box } from '../class/box';\nimport { Wash } from '../class/wash';\nimport { CarServiceService } from '../car-service.service';\nimport { Car } from '../class/car';\n\n@Component({\n  selector: 'app-wash-car',\n  templateUrl: './wash-car.component.html',\n  styleUrls: ['./wash-car.component.css']\n})\nexport class WashCarComponent {\n  boxes! : Box[];\n  wash : Wash = new Wash();\n  car! : Car;\n  box! : Box;\n  id! : number;\n  constructor(private washServ : WashService,private boxServ : BoxService,private carServ : CarServiceService,private router: Router,private route :ActivatedRoute){\n\n  }\n  ngOnInit() : void{\n    this.boxServ.findAll().subscribe((data) => {\n      this.boxes = data;\n   });\n   this.carServ.findById(this.route.snapshot.params['id']).subscribe(\n    (responce) => {\n      this.car = responce;\n    }\n   );\n  }\n  onSubmit() {\n\n     this.boxServ.findById(this.id).subscribe(\n      (responce) => {\n\n        this.box = responce;\n        this.wash.car = this.car;\n         this.wash.place = this.box;\n         this.wash.active = true;\n        this.washServ.save(this.wash);\n      }\n     )\n\n\n\n    this.gotoUserList();\n  }\n\n  gotoUserList() {\n    this.router.navigate(['/']);\n  }\n}\n","<div class = \"container\">\n  <div class = \"row\">\n    <div class =\"col-lg-6 col-md-6 col-sm-6 container justify-content-center card\">\n      <h1 class = \"text-center\"> Помыть машину </h1>\n      <div class = \"card-body\">\n        <form (ngSubmit)=\"onSubmit()\" method=\"POST\">\n<!--          <div class =\"form-group\">-->\n<!--            <label> Номер </label>-->\n<!--            <p-->\n<!--                    type = \"text\"-->\n<!--                    name = \"car\"-->\n<!--                    th:text = \"${car.number}\"-->\n<!--                    class = \"form-control\"-->\n<!--                    placeholder=\"a111aa11\"-->\n<!--            />-->\n<!--          </div>-->\n\n          <div class =\"form-group\">\n            <label> Дата </label>\n            <input\n                    type = \"date\"\n                    name = \"date\"\n                    [(ngModel)]=\"wash.date\"\n                    class = \"form-control\"\n                    placeholder=\"2000-12-30\"\n            />\n          </div>\n\n\n            <div class =\"form-group\">\n            <label> Бокс для мойки </label>\n                <select name=\"place\" [(ngModel)]=\"id\" class=\"form-control\" >\n                     <option *ngFor=\"let box of boxes\" value=\"{{box.id}}\"  selected=\"1\">{{box.name}}</option>\n                </select>\n            </div>\n\n          <div class = \"box-footer\">\n            <button type=\"submit\" class = \"btn btn-primary\">\n              Помыть\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}